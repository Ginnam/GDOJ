(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Vlc3:function(t,e){},WslX:function(t,e,a){"use strict";a.r(e);var n=a("MQ60"),o={name:"todolist",components:{draggable:a.n(n).a},data:function(){return{pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"明天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"后天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+1728e5),t.$emit("pick",e)}},{text:"三天后",onClick:function(t){var e=new Date;e.setTime(e.getTime()+2592e5),t.$emit("pick",e)}},{text:"一周后",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}},{text:"两周后",onClick:function(t){var e=new Date;e.setTime(e.getTime()+12096e5),t.$emit("pick",e)}},{text:"四周后",onClick:function(t){var e=new Date;e.setTime(e.getTime()+24192e5),t.$emit("pick",e)}}]},curid:0,notetitle:"便签",warningtitle:"待补题",normaltitle:"日常事项",activeNames:[],activeIndex:"1",loginshow:0,name:sessionStorage.username,notelist:[],normallisttodo:[],normallistdone:[],warninglisttodo:[],dellist:[1],ismoving:!1,form:{user:sessionStorage.username,title:"",detail:"",status:1,createtime:new Date,deadtime:new Date((new Date).getTime()+864e5),tag:1},expandnote:!0,expandwarning:!1,expandnormal:!1,scrolldelay:null}},mounted:function(){""!=sessionStorage.getItem("username")&&null!=sessionStorage.getItem("username")&&(this.loginshow=1,this.name=sessionStorage.getItem("username")),this.refresh()},methods:{pageScroll:function(){window.scrollBy(0,-70),this.scrolldelay=setTimeout(this.pageScroll,10),0==document.documentElement.scrollTop+document.body.scrollTop&&clearTimeout(this.scrolldelay)},clearform:function(){this.form={user:sessionStorage.username,title:"",detail:"",createtime:new Date,deadtime:new Date((new Date).getTime()+864e5),status:1,tag:1}},refresh:function(){var t=this,e=[],a=[],n=[],o=[];this.$axios.get("/item/").then(function(i){for(var r=0;r<i.data.length;r++)0!=i.data[r].status?(1==i.data[r].tag&&e.push(i.data[r]),2==i.data[r].tag&&1==i.data[r].status&&a.push(i.data[r]),3==i.data[r].tag&&1==i.data[r].status&&o.push(i.data[r])):n.push(i.data[r]);t.notelist=e,t.normallisttodo=a,t.normallistdone=n,t.warninglisttodo=o;var l=function(t,e){return t.createtime<e.createtime?1:-1};t.notelist.sort(l),t.normallisttodo.sort(l),t.normallistdone.sort(l),t.warninglisttodo.sort(function(t,e){return t.deadtime>e.deadtime?1:-1})}).catch(function(e){t.$message.error("服务器错误！("+JSON.stringify(e.response.data)+")")})},notechange:function(t){var e=t.added;null!=e&&(e.element.status=1,e.element.tag=1,console.log(e.element),this.putnode(e.element))},normallisttodochange:function(t){var e=t.added;null!=e&&(e.element.status=1,e.element.tag=2,this.putnode(e.element))},normallistdonechange:function(t){var e=t.added;null!=e&&(e.element.status=0,this.putnode(e.element))},warninglisttodochange:function(t){var e=t.added;null!=e&&(e.element.status=1,e.element.tag=3,this.putnode(e.element))},delnode:function(t){var e=this;this.$axios.delete("/putitem/"+t.id+"/").then(function(a){e.$message({message:"删除成功！"+t.id,type:"success",duration:2e3}),e.refresh()}).catch(function(t){e.$message.error("服务器错误！("+JSON.stringify(t.response.data)+")")})},addnote:function(t,e){var a=this;this.form.status=t,this.form.tag=e;var n=(new Date).getTime()+288e5;this.form.deadtime=1==e?new Date(n):new Date(this.form.deadtime.getTime()+288e5),this.form.createtime=new Date(n),this.$axios.post("/putitem/",this.form).then(function(t){a.$message({message:"添加成功  "+a.form.title+" ",type:"success",duration:500}),a.refresh(),a.expandnote=!1,a.expandwarning=!1,a.expandwarning=!1}).catch(function(t){a.$message.error("服务器错误！("+JSON.stringify(t.response.data)+")")})},putnode:function(t){var e=this;1!=t.tag&&(t.deadtime=new Date(new Date(t.deadtime).getTime()+288e5)),this.$axios.put("/putitem/"+t.id+"/",t).then(function(t){e.refresh(),e.$message({message:"切换成功",type:"success",duration:500})}).catch(function(t){e.$message.error("服务器错误！("+JSON.stringify(t.response.data)+")")})},editnote:function(t,e){var a=this;if(this.form.status=t,this.form.tag=e,1==e){var n=(new Date).getTime()+288e5;this.form.deadtime=new Date(n)}1!=e&&(this.form.deadtime=new Date(new Date(this.form.deadtime).getTime()+288e5)),this.$axios.put("/putitem/"+this.curid+"/",this.form).then(function(t){a.$message({message:"修改成功  "+a.form.title+" ",type:"success",duration:500}),a.refresh(),a.expandnote=!1,a.expandwarning=!1,a.expandnormal=!1,a.notetitle="便签",a.warningtitle="待补题",a.normaltitle="日常事项"}).catch(function(t){a.$message.error("服务器错误！("+JSON.stringify(t.response.data)+")")})},handleChange:function(){console.log("changed")},getComponentData:function(){return{on:{change:this.handleChange,input:this.handleChange},attrs:{wrap:!0},props:{value:this.activeNames}}}}},i=a("JFUb"),r=Object(i.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:5}},[a("draggable",{attrs:{list:t.notelist,group:"people",draggable:".item",sort:!1},on:{change:t.notechange,start:function(e){t.ismoving=!0},end:function(e){t.ismoving=!1}}},[t._l(t.notelist,function(e){return a("mu-expansion-panel",{key:e.title,staticClass:"item",staticStyle:{"margin-top":"5px"}},[a("h3",{staticStyle:{"word-break":"break-all","white-space":"normal"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),t._v(" "),a("pre",[t._v(t._s(e.detail))]),t._v(" "),a("el-button",{attrs:{slot:"action",type:"danger"},on:{click:function(a){t.delnode(e)}},slot:"action"},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{slot:"action",type:"success"},on:{click:function(a){t.curid=e.id,t.form=e,t.expandnote=!0,t.expandwarning=!1,t.expandnormal=!1,t.notetitle="修改便签",t.warningtitle="待补题",t.normaltitle="日常事项"}},slot:"action"},[t._v("编辑")])],1)}),t._v(" "),a("mu-expansion-panel",{staticStyle:{"background-color":"#c8e6c9"},attrs:{slot:"header",expand:t.expandnote},on:{change:function(e){t.clearform(),t.expandwarning=!1,t.expandnormal=!1},"update:expand":function(e){t.expandnote=e}},slot:"header"},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.notetitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标签内容"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"background-color":"#c8e6c9",border:"0px"},attrs:{slot:"action"},on:{click:function(e){t.expandnote=!1,t.notetitle="便签"}},slot:"action"},[t._v("取消")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"便签"==t.notetitle,expression:"notetitle=='便签'"}],attrs:{slot:"action",type:"success"},on:{click:function(e){t.addnote(1,1)}},slot:"action"},[t._v("添加")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"便签"!=t.notetitle,expression:"notetitle!='便签'"}],attrs:{slot:"action",type:"success"},on:{click:function(e){t.editnote(1,1)}},slot:"action"},[t._v("修改")])],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("draggable",{attrs:{list:t.normallisttodo,group:"people",draggable:".item",sort:!1},on:{change:t.normallisttodochange,start:function(e){t.ismoving=!0},end:function(e){t.ismoving=!1}}},[t._l(t.normallisttodo,function(e){return a("mu-expansion-panel",{key:e.detail,staticClass:"item",staticStyle:{"margin-top":"5px"}},[a("h3",{staticStyle:{"word-break":"break-all","white-space":"normal"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),t._v(" "),a("pre",[t._v(t._s(e.detail))]),t._v(" "),a("br"),t._v(" "),a("b",[t._v("\n            截止时间：\n            "),a("el-date-picker",{attrs:{type:"datetime",value:e.deadtime,readonly:""}})],1),t._v(" "),a("el-button",{attrs:{slot:"action",type:"danger"},on:{click:function(a){t.delnode(e)}},slot:"action"},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{slot:"action",type:"warning"},on:{click:function(a){t.curid=e.id,t.form=e,t.expandnormal=!0,t.expandnote=!1,t.expandwarning=!1,t.normaltitle="修改日常事项",t.notetitle="便签",t.warningtitle="待补题"}},slot:"action"},[t._v("编辑")])],1)}),t._v(" "),a("mu-expansion-panel",{staticStyle:{"background-color":"#ffecb3"},attrs:{slot:"header",expand:t.expandnormal},on:{change:function(e){t.clearform(),t.expandwarning=!1,t.expandnote=!1},"update:expand":function(e){t.expandnormal=e}},slot:"header"},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.normaltitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions},model:{value:t.form.deadtime,callback:function(e){t.$set(t.form,"deadtime",e)},expression:"form.deadtime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"background-color":"#ffecb3",border:"0px"},attrs:{slot:"action"},on:{click:function(e){t.expandnormal=!1,t.normaltitle="日常事项"}},slot:"action"},[t._v("取消")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"日常事项"==t.normaltitle,expression:"normaltitle=='日常事项'"}],attrs:{slot:"action",type:"warning"},on:{click:function(e){t.addnote(1,2),t.expandnormal=!1}},slot:"action"},[t._v("添加")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"日常事项"!=t.normaltitle,expression:"normaltitle!='日常事项'"}],attrs:{slot:"action",type:"warning"},on:{click:function(e){t.editnote(1,2)}},slot:"action"},[t._v("修改")])],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("draggable",{attrs:{list:t.warninglisttodo,group:"people",draggable:".item",sort:!1},on:{change:t.warninglisttodochange,start:function(e){t.ismoving=!0},end:function(e){t.ismoving=!1}}},[t._l(t.warninglisttodo,function(e){return a("mu-expansion-panel",{key:e.title,staticClass:"item",staticStyle:{"margin-top":"5px"}},[a("h3",{staticStyle:{"word-break":"break-all","white-space":"normal"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),t._v(" "),a("pre",[t._v(t._s(e.detail))]),t._v(" "),a("br"),t._v(" "),a("b",{staticStyle:{color:"red"}},[t._v("\n            截止时间：\n            "),a("el-date-picker",{attrs:{type:"datetime",value:e.deadtime,readonly:""}})],1),t._v(" "),a("el-button",{attrs:{slot:"action",type:"danger"},on:{click:function(a){t.delnode(e)}},slot:"action"},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{slot:"action",type:"danger"},on:{click:function(a){t.pageScroll(),t.curid=e.id,t.form=e,t.expandwarning=!0,t.expandnote=!1,t.expandnormal=!1,t.warningtitle="修改待补题",t.notetitle="便签",t.normaltitle="日常事项"}},slot:"action"},[t._v("编辑")])],1)}),t._v(" "),a("mu-expansion-panel",{staticStyle:{"background-color":"#ffcdd2"},attrs:{slot:"header",expand:t.expandwarning},on:{change:function(e){t.clearform(),t.expandnote=!1,t.expandnormal=!1},"update:expand":function(e){t.expandwarning=e}},slot:"header"},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.warningtitle))]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions},model:{value:t.form.deadtime,callback:function(e){t.$set(t.form,"deadtime",e)},expression:"form.deadtime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"background-color":"#ffcdd2",border:"0px"},attrs:{slot:"action"},on:{click:function(e){t.expandwarning=!1,t.warningtitle="待补题"}},slot:"action"},[t._v("取消")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"待补题"==t.warningtitle,expression:"warningtitle=='待补题'"}],attrs:{slot:"action",type:"danger"},on:{click:function(e){t.addnote(1,3),t.expandwarning=!1}},slot:"action"},[t._v("添加")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"待补题"!=t.warningtitle,expression:"warningtitle!='待补题'"}],attrs:{slot:"action",type:"danger"},on:{click:function(e){t.editnote(1,3)}},slot:"action"},[t._v("修改")])],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("draggable",{attrs:{list:t.normallistdone,group:"people",draggable:".item",sort:!1},on:{change:t.normallistdonechange,start:function(e){t.ismoving=!0},end:function(e){t.ismoving=!1}}},[t._l(t.normallistdone,function(e){return a("mu-expansion-panel",{key:e.detail,staticClass:"item",staticStyle:{"margin-top":"5px"}},[a("h3",{staticStyle:{"word-break":"break-all","white-space":"normal"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),t._v(" "),a("pre",[t._v(t._s(e.detail))]),t._v(" "),a("br"),t._v(" "),a("b",[t._v("\n            创建时间：\n            "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",value:e.createtime,readonly:""}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v("截止时间：\n            "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",value:e.deadtime,readonly:""}})],1)])}),t._v(" "),a("mu-expansion-panel",{staticStyle:{"background-color":"#d7ccc8"},attrs:{slot:"header"},slot:"header"},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v("已补题（提示：可拖动）")])])],2)],1),t._v(" "),a("el-backtop")],1)],1)},[],!1,function(t){a("o+RP")},null,null);e.default=r.exports},dCMm:function(t,e,a){"use strict";a.r(e),a("wd/R");var n={name:"wikidetail",components:{algorithmselect:a("Z78Q").a},data:function(){return{editpage:"",algurl:"https://oi-wiki.org/"}},created:function(){var t=this.$route.params.wikiid;this.algurl="https://oi-wiki.org/"+t.replace("_","/")+"/"},methods:{searchtitle:function(){this.$router.push({name:"wikidetail",params:{wikiid:this.editpage}});var t=this.$route.params.wikiid;this.algurl="https://oi-wiki.org/"+t.replace("_","/")+"/"}}},o=a("JFUb"),i=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please enter the algorithm to view...",filterable:""},on:{change:t.searchtitle},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchtitle(e):null}},model:{value:t.editpage,callback:function(e){t.editpage=e},expression:"editpage"}},[a("algorithmselect")],1),t._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("iframe",{attrs:{src:t.algurl,frameborder:"0",scrolling:"0",width:"100%",height:"880px"}}),t._v(" "),a("el-divider",[t._v("Thanks for the mirror provided by Netease")])],1)],1)},[],!1,function(t){a("Vlc3")},"data-v-c05b27c2",null);e.default=i.exports},"o+RP":function(t,e){}}]);